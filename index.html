<!DOCTYPE html>
<html lang="sv">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Uppdraget slutf√∂rt</title>
    <style>
      :root {
        --bg1: #111111;
        --bg2: #2a0000;
        --accent: #ff3b30;
        --text: #f7f7f7;
      }
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      html,
      body {
        height: 100%;
      }
      body {
        display: grid;
        place-items: center;
        background: radial-gradient(
          1200px 700px at 50% 30%,
          #2b0a0a 0%,
          #110506 55%,
          #060606 100%
        );
        color: var(--text);
        font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
          "Liberation Mono", "Courier New", monospace;
        overflow: hidden;
      }
      .wrap {
        text-align: center;
        padding: clamp(16px, 4vw, 40px);
      }
      h1 {
        font-size: clamp(28px, 6vw, 64px);
        letter-spacing: 0.02em;
        font-weight: 900;
        text-shadow: 0 8px 30px rgba(0, 0, 0, 0.35);
      }
      .sub {
        margin-top: 14px;
        font-size: clamp(16px, 3.2vw, 24px);
        opacity: 0.9;
      }
      .counter {
        margin-top: 26px;
        font-size: clamp(48px, 12vw, 160px);
        font-weight: 900;
        line-height: 1;
        color: var(--accent);
        text-shadow: 0 0 24px rgba(255, 59, 48, 0.35);
      }
      .log {
        margin-top: 18px;
        font-size: clamp(12px, 2.6vw, 16px);
        opacity: 0.7;
      }

      /* Flash & shake effects */
      .flash {
        position: fixed;
        inset: 0;
        background: #ff3b30;
        opacity: 0;
        pointer-events: none;
      }
      .flash.on {
        animation: flash 0.22s ease-in-out 3;
      }
      @keyframes flash {
        0% {
          opacity: 0;
        }
        25% {
          opacity: 0.22;
        }
        50% {
          opacity: 0.05;
        }
        100% {
          opacity: 0;
        }
      }
      .shake {
        animation: shake 0.4s linear 3;
      }
      @keyframes shake {
        0% {
          transform: translate(0, 0);
        }
        20% {
          transform: translate(-8px, 2px);
        }
        40% {
          transform: translate(9px, -3px);
        }
        60% {
          transform: translate(-6px, 4px);
        }
        80% {
          transform: translate(6px, -2px);
        }
        100% {
          transform: translate(0, 0);
        }
      }
      .ok {
        color: #6ef0a7;
      }
      .btn {
        margin-top: 22px;
        padding: 0.7rem 1.1rem;
        border-radius: 10px;
        border: 0;
        cursor: pointer;
        background: #ffffff12;
        color: #fff;
      }
      .btn:hover {
        background: #ffffff22;
      }
    </style>
  </head>
  <body>
    <div class="wrap" id="root">
      <h1>Uppdraget slutf√∂rt.</h1>
      <div class="sub">Aktiverar sj√§lvf√∂rst√∂rning p√• din enhet om</div>
      <div class="counter" id="ctr">10</div>
      <div class="log" id="log">Initierar protokoll¬†SE-42‚Ä¶</div>
    </div>
    <div class="flash" id="flash"></div>

    <script>
      // Simple playful countdown + harmless effects
      const ctr = document.getElementById("ctr");
      const log = document.getElementById("log");
      const flash = document.getElementById("flash");
      const root = document.getElementById("root");
      let n = 10;
      let step = 0;

      function setLog(msg) {
        log.textContent = msg;
      }

      function tick() {
        ctr.textContent = String(n).padStart(2, "0");
        if (n === 10) setLog("Initierar protokoll SE-42‚Ä¶");
        if (n === 7) setLog("Armerar laddning¬†‚Ä¶");
        if (n === 5) setLog("Synkar med enhet¬†‚Ä¶");
        if (n === 3) setLog("Sista kontroll¬†‚Ä¶");
        if (n <= 0) {
          // harmless ‚Äúboom‚Äù effect
          flash.classList.add("on");
          root.classList.add("shake");
          if (navigator.vibrate) {
            try {
              navigator.vibrate([40, 80, 40]);
            } catch (_) {}
          }
          setTimeout(() => {
            document.body.style.background =
              "linear-gradient(135deg,#0b1e12,#06120a)";
            root.innerHTML =
              '<h1 class="ok">üß® Skoja bara! Inget f√∂rst√∂rdes.</h1>' +
              '<div class="sub">Bra jobbat ‚Äì Vi ser fram emot er n√§sta ledtr√•d.</div>' +
              '<button class="btn" onclick="history.back()">G√• tillbaka</button>';
          }, 550);
          clearInterval(timer);
          return;
        }
        n -= 1;
      }
      const timer = setInterval(tick, 1000);
      tick();
    </script>
  </body>
</html>
